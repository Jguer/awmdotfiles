#!/bin/sh
xset -b
xset r rate 200 30
setxkbmap -option caps:swapescape
setxkbmap -option terminate:ctrl_alt_bksp

export GOPATH=$HOME/Go
export EDITOR=nvim
export QT_STYLE_OVERRIDE=gtk2

if [ -d "$HOME/awmdotfiles/scripts" ] ; then
  export PATH="$PATH:$HOME/awmdotfiles/scripts"
fi

if [ -d "$HOME/Go/bin" ] ; then
  export PATH="$PATH:$HOME/Go/bin"
fi

[[ "$(cat /etc/hostname)" =~ "Paladium" ]] && xrandr --output HDMI-A-0 --primary --auto --right-of DVI-I-1

[[ "$(cat /etc/hostname)" =~ "cobalt" ]] && blueman-applet &

eval "$(/usr/bin/gnome-keyring-daemon --start --components=gpg,pkcs11,secrets,ssh)"
[[ -z "$(pgrep pulseaudio)" ]] && start-pulseaudio-x11 &
[[ -z "$(pgrep nm-applet)" ]] && nm-applet --sm-disable &
[[ -z "$(pgrep pcmanfm)" ]] && pcmanfm -d &
xss-lock -- i3lock -t -c 282828 -e -i "$HOME/.config/awesome/themes/gruvbox/background.png" &
dex ~/.config/autostart/* &
[[ -z "$(pgrep ibus-daemon)" ]] && ibus-daemon -drx &
[[ -z "$(pgrep redshift)" ]] && redshift -l 38.72:-9.15 -t 5000:3400 &

gpg-connect-agent /bye >/dev/null 2>&1

# These are copied directly from gpg-agent manpages
unset SSH_AGENT_PID
if [ "${gnupg_SSH_AUTH_SOCK_by:-0}" -ne $$ ]; then
  export SSH_AUTH_SOCK="$(gpgconf --list-dirs agent-ssh-socket)"
fi

